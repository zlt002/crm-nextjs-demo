---
title: 项目初始化和环境搭建
status: pending
priority: high
assignee:
estimate: 1 day
epic: crm-nextjs-js-json
created: 2025-09-20T11:00:00Z
parallel: true
---

# Task 001: 项目初始化和环境搭建

## 任务描述

初始化Next.js 14+项目，配置开发工具链，搭建基础目录结构，确保开发环境准备就绪。

## 技术实现

### 项目初始化
- 创建Next.js 14+项目（App Router）
- 配置TypeScript严格模式
- 设置项目依赖和开发依赖
- 配置路径别名（@/指向src目录）

### 工具链配置
- ESLint配置（Next.js推荐规则）
- Prettier代码格式化
- Husky + lint-staged Git hooks
- TypeScript路径映射配置

### 目录结构
- 创建标准Next.js项目结构
- 设置src目录约定
- 创建components、lib、types、hooks等目录
- 初始化data目录用于JSON存储

### 基础配置文件
- next.config.js（包含图像优化、路径别名）
- tsconfig.json（严格模式、路径映射）
- tailwind.config.js（主题配置）
- .env.local（环境变量模板）

## 具体步骤

1. **创建Next.js项目**
   ```bash
   npx create-next-app@latest --typescript --tailwind --app
   ```

2. **安装核心依赖**
   ```bash
   npm install @tanstack/react-query zustand react-hook-form @hookform/resolvers zod
   ```

3. **配置开发工具**
   - 设置ESLint + Prettier
   - 配置Husky pre-commit hooks
   - 添加.editorconfig

4. **创建目录结构**
   ```
   src/
   ├── app/
   ├── components/
   │   ├── ui/
   │   ├── forms/
   │   ├── charts/
   │   └── layout/
   ├── lib/
   ├── types/
   ├── hooks/
   └── data/
   ```

5. **配置环境变量**
   - NODE_ENV=development
   - NEXT_PUBLIC_APP_URL=http://localhost:3000

## 验收标准

### 功能验收
- [ ] Next.js项目成功启动
- [ ] TypeScript编译无错误
- [ ] Tailwind CSS样式正常工作
- [ ] 路径别名@/正常工作
- [ ] ESLint检查通过
- [ ] Prettier格式化正常
- [ ] Git hooks正常触发

### 技术验收
- [ ] 包管理器依赖安装完整
- [ ] 项目结构符合规范
- [ ] 开发环境配置正确
- [ ] 构建命令正常运行
- [ ] 开发服务器启动无错误

### 文档验收
- [ ] README.md包含项目说明
- [ ] package.json脚本配置完整
- [ ] 环境变量文档说明

## 风险与依赖

### 技术风险
- Node.js版本兼容性（需要18+）
- 包版本冲突
- 配置文件语法错误

### 外部依赖
- Node.js 18+
- npm/yarn/pnpm包管理器
- Git仓库

### 风险缓解
- 提前验证Node.js版本
- 使用锁定版本（package-lock.json）
- 参考官方配置模板

## 测试计划

### 单元测试
- 配置文件语法验证
- 路径别名功能测试
- 环境变量加载测试

### 集成测试
- 项目启动测试
- 构建过程测试
- 开发工具集成测试

## 相关资源

- Next.js官方文档
- TypeScript配置指南
- Tailwind CSS文档
- ESLint配置参考