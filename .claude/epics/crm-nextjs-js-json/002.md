---
title: UI系统集成和主题配置
status: pending
priority: high
assignee:
estimate: 1 day
epic: crm-nextjs-js-json
created: 2025-09-20T11:00:00Z
parallel: true
---

# Task 002: UI系统集成和主题配置

## 任务描述

集成shadcn/ui组件库，配置主题系统，实现深色/浅色模式切换，创建基础UI组件和布局系统。

## 技术实现

### shadcn/ui集成
- 安装和配置shadcn/ui
- 设置组件目录结构
- 配置主题变量和CSS自定义属性
- 创建全局样式文件

### 主题系统
- 实现next-themes主题切换
- 配置CSS变量（colors, spacing, typography）
- 创建主题提供者组件
- 实现主题切换按钮

### 基础组件
- Layout组件（侧边栏、顶部栏）
- 导航组件
- Card组件
- Button组件
- Form组件基础

### 响应式设计
- Tailwind响应式类配置
- 移动端适配
- 断点设置

## 具体步骤

1. **安装shadcn/ui**
   ```bash
   npx shadcn@latest init
   ```

2. **配置主题系统**
   ```bash
   npm install next-themes
   ```

3. **创建主题提供者**
   - components/theme-provider.tsx
   - components/theme-toggle.tsx

4. **设置基础UI组件**
   ```bash
   npx shadcn@latest add button card input label
   ```

5. **创建布局组件**
   - components/layout/sidebar.tsx
   - components/layout/header.tsx
   - components/layout/main-layout.tsx

## 验收标准

### 功能验收
- [ ] shadcn/ui组件正常工作
- [ ] 深色/浅色主题切换功能正常
- [ ] 响应式设计在不同设备上正常显示
- [ ] 基础UI组件样式一致
- [ ] 主题切换状态持久化

### 技术验收
- [ ] CSS变量正确配置
- [ ] Tailwind主题类工作正常
- [ ] 组件无样式冲突
- [ ] 浏览器兼容性良好
- [ ] 无控制台样式错误

### 用户体验验收
- [ ] 主题切换平滑过渡
- [ ] 移动端导航正常
- [ ] 视觉层次清晰
- [ ] 交互反馈及时

## 风险与依赖

### 技术风险
- shadcn/ui版本兼容性
- CSS变量命名冲突
- Tailwind类名冲突
- 主题切换性能问题

### 外部依赖
- shadcn/ui组件库
- next-themes包
- Tailwind CSS
- 浏览器CSS变量支持

### 风险缓解
- 使用稳定版本的shadcn/ui
- 前缀化CSS变量
- 定期清理未使用的Tailwind类
- 实现主题切换的防抖处理

## 测试计划

### 单元测试
- 主题切换逻辑测试
- 组件渲染测试
- 响应式断点测试

### 视觉回归测试
- 不同主题下的视觉一致性
- 组件在不同屏幕尺寸下的显示
- 浏览器兼容性测试

### 性能测试
- 主题切换性能
- 组件渲染性能
- CSS加载时间

## 相关资源

- shadcn/ui官方文档
- Tailwind CSS主题配置
- next-themes文档
- 响应式设计最佳实践